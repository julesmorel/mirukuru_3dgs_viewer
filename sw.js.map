{"version":3,"file":"sw.js","sources":["../src/sw.ts"],"sourcesContent":["import { version as appVersion } from '../package.json';\n\n// export default null\ndeclare let self: ServiceWorkerGlobalScope;\n\nconst cacheName = `superSplat-v${appVersion}`;\n\nconst cacheUrls = [\n    './',\n    './index.html',\n    './index.css',\n    './index.js',\n    './manifest.json',\n    './static/icons/logo-192.png',\n    './static/icons/logo-512.png',\n    './static/images/screenshot-narrow.jpg',\n    './static/images/screenshot-wide.jpg'\n];\n\nself.addEventListener('install', (event) => {\n    console.log(`installing v${appVersion}`);\n\n    // create cache for current version\n    event.waitUntil(\n        caches.open(cacheName)\n        .then((cache) => {\n            cache.addAll(cacheUrls);\n        })\n    );\n});\n\nself.addEventListener('activate', () => {\n    console.log(`activating v${appVersion}`);\n\n    // delete the old caches once this one is activated\n    caches.keys().then((names) => {\n        for (const name of names) {\n            if (name !== cacheName) {\n                caches.delete(name);\n            }\n        }\n    });\n});\n\nself.addEventListener('fetch', (event) => {\n    event.respondWith(\n        caches.match(event.request)\n        .then(response => response ?? fetch(event.request))\n    );\n});\n"],"names":["appVersion"],"mappings":";;AAKA,MAAM,SAAS,GAAG,CAAe,YAAA,EAAAA,OAAU,EAAE;AAE7C,MAAM,SAAS,GAAG;IACd,IAAI;IACJ,cAAc;IACd,aAAa;IACb,YAAY;IACZ,iBAAiB;IACjB,6BAA6B;IAC7B,6BAA6B;IAC7B,uCAAuC;IACvC;CACH;AAED,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,CAAC,KAAK,KAAI;AACvC,IAAA,OAAO,CAAC,GAAG,CAAC,eAAeA,OAAU,CAAA,CAAE,CAAC;;IAGxC,KAAK,CAAC,SAAS,CACX,MAAM,CAAC,IAAI,CAAC,SAAS;AACpB,SAAA,IAAI,CAAC,CAAC,KAAK,KAAI;AACZ,QAAA,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC;KAC1B,CAAC,CACL;AACL,CAAC,CAAC;AAEF,IAAI,CAAC,gBAAgB,CAAC,UAAU,EAAE,MAAK;AACnC,IAAA,OAAO,CAAC,GAAG,CAAC,eAAeA,OAAU,CAAA,CAAE,CAAC;;IAGxC,MAAM,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,CAAC,KAAK,KAAI;AACzB,QAAA,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE;AACtB,YAAA,IAAI,IAAI,KAAK,SAAS,EAAE;AACpB,gBAAA,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC;;;AAG/B,KAAC,CAAC;AACN,CAAC,CAAC;AAEF,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,KAAK,KAAI;IACrC,KAAK,CAAC,WAAW,CACb,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO;AACzB,SAAA,IAAI,CAAC,QAAQ,IAAI,QAAQ,IAAI,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CACtD;AACL,CAAC,CAAC"}